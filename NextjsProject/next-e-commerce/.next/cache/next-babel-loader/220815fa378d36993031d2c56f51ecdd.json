{"ast":null,"code":"import { db, auth } from \"@/config/firebase\";\nimport { useState, useEffect } from \"react\";\n\nconst useCart = id => {\n  const {\n    0: data,\n    1: setData\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  useEffect(() => {\n    async function fetchFromFirestore() {\n      var _auth$currentUser;\n\n      auth.currentUser && db.collection(\"Users\").doc((_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.uid).onSnapshot(function (doc) {\n        setData(doc.data().cart);\n      });\n    }\n\n    fetchFromFirestore();\n  }, [auth.currentUser]);\n  return {\n    data,\n    loading,\n    error\n  };\n};\n\nconst useCartOnce = id => {\n  const {\n    0: data,\n    1: setData\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  console.log(\"once\");\n  useEffect(() => {\n    var _auth$currentUser3;\n\n    async function fetchFromFirestore() {\n      var _auth$currentUser2;\n\n      console.log(\"once inner\");\n      db.collection(\"Users\").doc((_auth$currentUser2 = auth.currentUser) === null || _auth$currentUser2 === void 0 ? void 0 : _auth$currentUser2.uid).get().then(function (doc) {\n        setData(doc.data().cart);\n        setLoading(false);\n      }).catch(e => setError(e));\n    }\n\n    ((_auth$currentUser3 = auth.currentUser) === null || _auth$currentUser3 === void 0 ? void 0 : _auth$currentUser3.uid) && fetchFromFirestore();\n  }, [auth.currentUser]);\n  return {\n    data,\n    loading,\n    error\n  };\n};\n\nexport { useCart, useCartOnce };","map":null,"metadata":{},"sourceType":"module"}