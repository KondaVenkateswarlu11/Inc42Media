{"ast":null,"code":"import { firebase, auth, db } from \"../config/firebase\";\n\nfunction updateUser({\n  email,\n  name,\n  surname,\n  phoneNumber,\n  photo,\n  finalEvent\n}) {\n  const currentUser = auth.currentUser.uid;\n\n  if (photo) {\n    return firebase.storage().ref(\"images/\" + currentUser + ((photo === null || photo === void 0 ? void 0 : photo.name) || \"0\")).put(photo).then(doc => {\n      doc.ref.getDownloadURL().then(url => {\n        db.collection(\"Users\").doc(currentUser).update({\n          name,\n          surname,\n          email,\n          phoneNumber: phoneNumber || \"\",\n          photoUrl: url\n        }).catch(e => console.log(e)).finally(() => finalEvent());\n      });\n    }).catch(e => console.log(e));\n  }\n\n  return db.collection(\"Users\").doc(currentUser).update({\n    name,\n    surname,\n    email,\n    phoneNumber: phoneNumber || \"\"\n  });\n}\n\nfunction updatePassword({\n  currentPassword,\n  newPassword\n}) {\n  const currentUser = auth.currentUser;\n  const credential = firebase.auth.EmailAuthProvider.credential(firebase.auth().currentUser.email, currentPassword);\n\n  const update = () => {\n    return currentUser.updatePassword(newPassword).then(function () {// Update successful.\n    }).catch(function (error) {// An error happened.\n    });\n  };\n\n  const reauth = () => {\n    return currentUser.reauthenticateWithCredential(credential);\n  };\n\n  return {\n    reauth,\n    update\n  };\n}\n\nexport { updateUser, updatePassword };","map":null,"metadata":{},"sourceType":"module"}