{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport Input from \"@/components/Input\";\nimport Button from \"@/components/Button\";\nimport SocialMediaButton from \"@/components/SocialMediaButton\";\nimport { emailRegister, registerDatabase } from \"firebase/register\";\nimport googleAuth from \"firebase/google-auth\";\nconst schema = yup.object().shape({\n  name: yup.string().required(\"* Name is required.\").min(2, \"* Name is too short\"),\n  surname: yup.string().required(\"* Surname is required.\").min(2, \"* Surname is too short\"),\n  email: yup.string().email().required(\"* Email is required.\"),\n  password: yup.string().required(\"* Password is required.\").min(8, \"* Password is too short - should be 8 chars minimum.\")\n});\nexport default function RegisterForm() {\n  const {\n    0: registerError,\n    1: setRegisterError\n  } = useState();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n\n  const onSubmit = ({\n    email,\n    password,\n    name,\n    surname\n  }) => emailRegister({\n    email,\n    password\n  }).then(response => {\n    registerDatabase({\n      id: response.user.uid,\n      email,\n      name,\n      surname\n    }).then(() => setRegisterError(\"You have registered succesfully. You can login now\")).catch(e => setRegisterError(e.message));\n  }).catch(error => setRegisterError(error.message));\n\n  return /*#__PURE__*/_jsxs(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      paddingTop: 30\n    },\n    children: [/*#__PURE__*/_jsx(\"hr\", {\n      style: {\n        width: \"100%\",\n        height: 1,\n        color: \"#f6f6f655\"\n      }\n    }), /*#__PURE__*/_jsx(\"span\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: -35,\n        padding: 15,\n        backgroundColor: \"white\",\n        display: \"flex\",\n        alignSelf: \"center\",\n        width: \"max-content\",\n        fontWeight: \"500\"\n      },\n      children: \"Register with social media\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsx(SocialMediaButton, {\n        style: {\n          marginRight: 20\n        },\n        icon: \"google\",\n        onClick: googleAuth,\n        children: \"Google\"\n      }), /*#__PURE__*/_jsx(SocialMediaButton, {\n        icon: \"apple\",\n        children: \"Apple\"\n      })]\n    }), /*#__PURE__*/_jsx(\"hr\", {\n      style: {\n        width: \"100%\",\n        height: 1,\n        color: \"#f6f6f655\",\n        marginTop: 50\n      }\n    }), /*#__PURE__*/_jsx(\"span\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: -35,\n        padding: 15,\n        backgroundColor: \"white\",\n        display: \"flex\",\n        alignSelf: \"center\",\n        width: \"max-content\",\n        fontWeight: \"500\"\n      },\n      children: \"Register with E-mail\"\n    }), /*#__PURE__*/_jsx(Input, {\n      name: \"name\",\n      register: register,\n      placeholder: \"Name\",\n      error: errors.name\n    }), errors.name && /*#__PURE__*/_jsx(\"span\", {\n      style: {\n        color: \"red\",\n        marginTop: 4,\n        fontSize: 14\n      },\n      children: errors.name.message\n    }), /*#__PURE__*/_jsx(Input, {\n      name: \"surname\",\n      register: register,\n      placeholder: \"Surname\",\n      error: errors.surname\n    }), errors.surname && /*#__PURE__*/_jsx(\"span\", {\n      style: {\n        color: \"red\",\n        marginTop: 4,\n        fontSize: 14\n      },\n      children: errors.surname.message\n    }), /*#__PURE__*/_jsx(Input, {\n      name: \"email\",\n      register: register,\n      placeholder: \"E-mail\",\n      error: errors.email\n    }), errors.email && /*#__PURE__*/_jsx(\"span\", {\n      style: {\n        color: \"red\",\n        marginTop: 4,\n        fontSize: 14\n      },\n      children: errors.email.message\n    }), /*#__PURE__*/_jsx(Input, {\n      name: \"password\",\n      register: register,\n      placeholder: \"Password\",\n      type: \"password\",\n      error: errors.password\n    }), errors.password && /*#__PURE__*/_jsx(\"span\", {\n      style: {\n        color: \"red\",\n        marginTop: 4,\n        fontSize: 14\n      },\n      children: errors.password.message\n    }), errors.exampleRequired && /*#__PURE__*/_jsx(\"span\", {\n      children: \"This field is required\"\n    }), registerError && /*#__PURE__*/_jsx(\"span\", {\n      style: {\n        color: \"red\",\n        marginTop: 20,\n        fontSize: 14,\n        marginBottom: -10\n      },\n      children: registerError\n    }), /*#__PURE__*/_jsx(Button, {\n      type: \"submit\",\n      children: \"Register\"\n    }), /*#__PURE__*/_jsx(\"div\", {\n      style: {\n        fontSize: 12,\n        display: \"flex\"\n      },\n      children: \"By clicking Register, you agree to use out Terms and that you have read our Data Use Policy, including our Cookie Use\"\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}