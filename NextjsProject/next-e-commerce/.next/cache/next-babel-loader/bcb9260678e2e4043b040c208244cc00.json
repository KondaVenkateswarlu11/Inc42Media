{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport styles from \"./update.module.scss\";\nimport Input from \"@/components/Input\";\nimport Button from \"@/components/Button\";\nimport { updateAddress } from \"@/firebase/addresses\";\nvar schema = yup.object().shape({\n  title: yup.string().required(\"* Title is required.\").min(2, \"* Title is too short\"),\n  city: yup.string().required(\"* City is required.\").min(2, \"* City is too short\"),\n  region: yup.string().required(\"* Region is required.\"),\n  zipcode: yup.string().required(\"* Zip Code is required.\"),\n  full_address: yup.string().required(\"* Address Line is required.\")\n});\nexport default function UpdateAddress(_ref) {\n  var addressData = _ref.addressData,\n      closeEvent = _ref.closeEvent;\n  var id = addressData.id,\n      title = addressData.title,\n      full_address = addressData.full_address,\n      zipcode = addressData.zipcode,\n      region = addressData.region,\n      city = addressData.city;\n\n  var _useForm = useForm({\n    resolver: yupResolver(schema)\n  }),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  var onSubmit = function onSubmit(data) {\n    return updateAddress(_objectSpread({\n      id: id\n    }, data))[\"finally\"](function () {\n      return window.location.reload(false);\n    });\n  };\n\n  var closeModal = function closeModal(target) {\n    (target === null || target === void 0 ? void 0 : target.id) === \"container\" && closeEvent();\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: styles.container,\n    id: \"container\",\n    onClick: function onClick(e) {\n      return closeModal(e.target);\n    },\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.content,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: styles.header,\n        children: [/*#__PURE__*/_jsx(\"h4\", {\n          children: \"Update Address\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          onClick: closeEvent,\n          children: \"\\xD7\"\n        })]\n      }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          paddingTop: 30\n        },\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.inputContainer,\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"Address Title\"\n          }), /*#__PURE__*/_jsx(Input, {\n            name: \"title\",\n            noMargin: true,\n            register: register,\n            placeholder: \"Home, Office, etc.\",\n            defaultValue: title,\n            error: errors.title\n          })]\n        }), errors.title && /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            color: \"red\",\n            marginTop: 4,\n            fontSize: 14\n          },\n          children: errors.title.message\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.inputContainer,\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"City\"\n          }), /*#__PURE__*/_jsx(Input, {\n            name: \"city\",\n            noMargin: true,\n            register: register,\n            defaultValue: city,\n            placeholder: \"New York, London, etc.\",\n            error: errors.city\n          })]\n        }), errors.city && /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            color: \"red\",\n            marginTop: 4,\n            fontSize: 14\n          },\n          children: errors.city.message\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.inputContainer,\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"Region\"\n          }), /*#__PURE__*/_jsx(Input, {\n            name: \"region\",\n            noMargin: true,\n            register: register,\n            defaultValue: region,\n            placeholder: \"France, Italy, etc.\",\n            error: errors.region\n          })]\n        }), errors.region && /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            color: \"red\",\n            marginTop: 4,\n            fontSize: 14\n          },\n          children: errors.region.message\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.inputContainer,\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"Zip Code\"\n          }), /*#__PURE__*/_jsx(Input, {\n            name: \"zipcode\",\n            noMargin: true,\n            register: register,\n            defaultValue: zipcode,\n            placeholder: \"\",\n            error: errors.zipcode\n          })]\n        }), errors.zipcode && /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            color: \"red\",\n            marginTop: 4,\n            fontSize: 14\n          },\n          children: errors.zipcode.message\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.inputContainer,\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"Address Line\"\n          }), /*#__PURE__*/_jsx(Input, {\n            name: \"full_address\",\n            noMargin: true,\n            register: register,\n            defaultValue: full_address,\n            placeholder: \"123 Main Street, New York, NY 10030, etc.\",\n            error: errors.full_address\n          })]\n        }), errors.full_address && /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            color: \"red\",\n            marginTop: 4,\n            fontSize: 14\n          },\n          children: errors.full_address.message\n        }), /*#__PURE__*/_jsx(Button, {\n          type: \"submit\",\n          style: {\n            marginBottom: 0\n          },\n          children: \"Update Address\"\n        })]\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}