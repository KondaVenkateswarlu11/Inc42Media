_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"+WUU":function(e,t,r){"use strict";var n=r("rePB"),c=r("nKUr");r("q1tI");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){return Object(c.jsx)("svg",i(i({viewBox:"0 0 511.626 511.627"},e),{},{children:Object(c.jsx)("path",{d:"M475.366 71.951c-24.175-23.606-57.575-35.404-100.215-35.404-11.8 0-23.843 2.046-36.117 6.136-12.279 4.093-23.702 9.615-34.256 16.562-10.568 6.945-19.65 13.467-27.269 19.556a263.828 263.828 0 00-21.696 19.414 264.184 264.184 0 00-21.698-19.414c-7.616-6.089-16.702-12.607-27.268-19.556-10.564-6.95-21.985-12.468-34.261-16.562-12.275-4.089-24.316-6.136-36.116-6.136-42.637 0-76.039 11.801-100.211 35.404C12.087 95.552 0 128.288 0 170.162c0 12.753 2.24 25.889 6.711 39.398 4.471 13.514 9.566 25.031 15.275 34.546 5.708 9.514 12.181 18.796 19.414 27.837 7.233 9.042 12.519 15.27 15.846 18.699 3.33 3.422 5.948 5.899 7.851 7.419L243.25 469.937c3.427 3.429 7.614 5.144 12.562 5.144s9.138-1.715 12.563-5.137l177.87-171.307c43.588-43.583 65.38-86.41 65.38-128.475.001-41.874-12.088-74.61-36.259-98.211z"})}))}},"+fti":function(e,t,r){e.exports={container:"brand_container__UN5n5",main:"brand_main__2B7v5",header:"brand_header__31Y6r",title:"brand_title__18Mk8",emoji:"brand_emoji__3pneH",headerButtons:"brand_headerButtons__MtWX9",products:"brand_products__3wqo4"}},GSTf:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("rePB"),c=r("Ff2n"),a=r("nKUr"),i=r("q1tI"),o=r("tgXf"),s=r.n(o),u=r("ILjZ"),d=r("YFqc"),b=r.n(d),l=r("+WUU"),p=r("SkMO"),j=r("nOHt"),O=r("HvpM");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){var t=e.bgColor,r=e.id,n=e.brand,o=e.name,d=e.price,f=e.sale_price,h=e.image,v=e.favorite,m=Object(c.a)(e,["bgColor","id","brand","name","price","sale_price","image","favorite"]),g=Object(i.useState)(v),x=g[0],y=g[1],P=Object(O.b)(),w=P.user,N=P.loading,C=Object(j.useRouter)();return Object(a.jsxs)("div",_(_({className:s.a.container,style:{backgroundColor:t||""},onClick:function(e){return t=e.target,console.log(t),void("button"!==(null===t||void 0===t?void 0:t.localName)&&C.push("/".concat(r)));var t}},m),{},{children:[Object(a.jsx)("button",{className:s.a.favContainer,onClick:function(){w&&!N?x?function(e){Object(p.c)(e),y(!1)}(r):function(e){Object(p.a)(e),y(!0)}(r):C.push("/login")},children:x?Object(a.jsx)(l.a,{width:16,height:16}):Object(a.jsx)(u.a,{width:16,height:16})}),Object(a.jsx)("div",{className:s.a.imageContainer,children:h&&Object(a.jsx)("img",{className:s.a.image,src:h,loading:"lazy"})}),Object(a.jsxs)("div",{className:s.a.textContainer,children:[Object(a.jsx)(b.a,{href:"/brand/".concat(n),children:Object(a.jsx)("h4",{className:s.a.brandText,children:n})}),Object(a.jsx)("h4",{children:o}),f?Object(a.jsxs)("div",{className:s.a.priceContainer,children:[Object(a.jsxs)("div",{className:s.a.discount,children:[(d-f)/d*100|0,"%"]}),Object(a.jsxs)("div",{className:s.a.prices,children:[Object(a.jsxs)("span",{className:s.a.priceText,children:[d,"$"]}),Object(a.jsxs)("span",{className:s.a.salePriceText,children:[f,"$"]})]})]}):Object(a.jsxs)("span",{className:s.a.price,children:[d||0,"$"]})]})]}))}},PALR:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var n=r("o0o1"),c=r.n(n),a=r("rePB"),i=r("HaE+"),o=r("nKUr"),s=(r("q1tI"),r("xvJW")),u=r("8Kt/"),d=r.n(u),b=r("+fti"),l=r.n(b),p=r("G9T2"),j=r("Gay1"),O=r("GSTf"),f=r("HvpM");function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=e.data,r=e.query,n=Object(f.b)(),c=n.user,a=n.loading;return Object(o.jsx)(p.a,{children:Object(o.jsxs)("div",{className:l.a.container,children:[Object(o.jsxs)(d.a,{children:[Object(o.jsx)("title",{children:"Create Next App"}),Object(o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),Object(o.jsxs)("main",{className:l.a.main,children:[Object(o.jsxs)("div",{className:l.a.header,children:[Object(o.jsxs)("h1",{className:l.a.title,children:["Listing ",t.length,' products for "',r.brand,'"']}),Object(o.jsxs)("div",{className:l.a.headerButtons,children:[Object(o.jsx)(j.a,{type:"sort",style:{marginRight:20}}),Object(o.jsx)(j.a,{count:0})]})]}),Object(o.jsx)("div",{className:l.a.products,children:!a&&t.map((function(e){var t;return Object(o.jsx)(O.a,{id:e.id,brand:e.brand,name:e.product_name,image:e.cover_photo,price:e.price,sale_price:e.sale_price,favorite:null===c||void 0===c||null===(t=c.favorites)||void 0===t?void 0:t.includes(e.id)},e.id)}))})]})]})})}v.getInitialProps=function(){var e=Object(i.a)(c.a.mark((function e(t){var r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,n={},a={},e.next=5,s.b.collection("Products").where("brand","==",r.brand).get().then((function(e){n=e.docs.map((function(e){return h({id:e.id},e.data())}))})).catch((function(e){return a=e}));case 5:return e.abrupt("return",{data:n,error:a,query:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},SkMO:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r("xvJW");function c(e){var t=n.a.currentUser.uid;return n.b.collection("Users").doc(t).update({favorites:n.c.firestore.FieldValue.arrayUnion(e)})}function a(e){var t=n.a.currentUser.uid;return n.b.collection("Users").doc(t).update({favorites:n.c.firestore.FieldValue.arrayRemove(e)})}function i(e){var t=n.a.currentUser.uid;return n.b.collection("Users").doc(t).update({cart:e})}},jWQ6:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/brand/[brand]",function(){return r("PALR")}])},tgXf:function(e,t,r){e.exports={container:"product_container__3R3H5",textContainer:"product_textContainer__3slNK",brandText:"product_brandText__3b8yO",priceContainer:"product_priceContainer__1l9ud",discount:"product_discount__1WGZ-",prices:"product_prices__3RpuG",priceText:"product_priceText__fKFMx",salePriceText:"product_salePriceText__2LJLQ",imageContainer:"product_imageContainer__1ucN6",bgImage:"product_bgImage__Sr7CJ",favContainer:"product_favContainer__2mVQ6"}}},[["jWQ6",0,1,3,5,4,2,6,7,9]]]);